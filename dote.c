#include <stdio.h>
#include <unistd.h>

char a[16][16] = {
{0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},
{0,0,0,0,0,1,11,11,11,11,11,1,0,0,0,0},
{0,0,0,0,1,11,11,5,5,5,11,11,1,0,0,0},
{0,0,0,1,11,11,5,11,11,11,5,11,11,1,0,0},
{0,0,1,11,5,11,11,11,11,11,11,5,11,1,0,0},
{0,1,11,11,11,11,11,11,11,11,11,11,11,1,0},
{0,1,11,11,11,11,5,11,11,5,11,11,11,1,0},
{1,11,11,5,11,11,11,1,1,11,11,11,5,11,1},
{1,11,11,11,5,11,11,11,11,11,11,5,11,11,1},
{0,1,11,11,11,11,11,5,5,11,11,11,11,1,0},
{0,0,1,11,11,11,11,11,11,11,11,11,1,0,0},
{0,0,0,1,11,11,11,11,11,11,11,1,0,0,0},
{0,0,0,0,1,11,11,11,11,11,1,0,0,0,0},
{0,0,0,0,0,1,11,11,11,1,0,0,0,0,0,0},
{0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
};

char b[16][16] = {
{0,0,0,0,0,0,0,1,11,1,0,0,0,0,0,0},
{0,0,0,0,0,1,11,11,11,11,1,0,0,0,0,0},
{0,0,0,0,1,11,11,5,5,11,11,1,0,0,0,0},
{0,0,0,1,11,11,5,11,11,5,11,11,1,0,0,0},
{0,0,1,11,5,11,11,11,11,11,11,5,11,1,0,0},
{0,1,11,11,11,11,11,11,11,11,11,11,11,1,0},
{0,1,11,11,11,5,11,11,11,11,5,11,11,1,0},
{1,11,11,11,5,11,11,1,1,11,11,5,11,11,1},
{1,11,11,5,11,11,11,11,11,11,11,11,11,11,1},
{0,1,11,11,11,11,11,5,5,11,11,11,11,1,0},
{0,0,1,11,11,11,11,11,11,11,11,11,1,0,0},
{0,0,0,1,11,11,11,11,11,11,11,1,0,0,0},
{0,0,0,0,1,11,11,11,11,11,1,0,0,0,0},
{0,0,0,0,0,1,11,11,11,1,0,0,0,0,0,0},
{0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
};

int color(int x) {
    if (x == 1) return 34;   // 青
    else if (x == 5) return 178; // 黄
    else if (x == 11) return 199; // ピンク
    else return 247; // グレー
}

void dote(int k) {
    printf("\e[H\e[J\e[?25l");

    for (int i = 0; i < 16; i++) {
        printf("%*s", k, "");
        for (int j = 0; j < 16; j++) {
            int x = a[i][j];
            if (k % 2 == 1) x = b[i][j];
            printf("\e[48;5;%dm  \e[0m", color(x));
        }
        printf("\n");
    }

    usleep(125000);
}

int main(void) {
    // → 右方向に動く
    for (int k = 0; k < 55; k++) {
        dote(k);
    }

    // ← 左方向に戻る
    for (int k = 55; k > 0; k--) {
        dote(k);
    }

    printf("\e[?25h");
    return 0;
}
